<IndexScreen>:
    anim_type: 'slide_above_simple'
    on_left_to_right_line: main_win.toggle_state()
    id: main_win
    BoxLayout:
        id: slide_box
        orientation: 'vertical'
        spacing: 20
        canvas.before:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            orientation: 'vertical'
            Button:
                id: head_image_box
                size_hint: (.2,.2)
                pos_hint: {'center_x':.5,'center_y':.5}
#                on_release: root.me_slide_button()
                background_color: (0,0,0,0)
                canvas.after:
                    Color:
                        rgba: (1,1,1,1)
                    Ellipse:
                        size: head_image_box.size[1]/1.8,head_image_box.size[1]/1.8
                        pos: [self.center_x - head_image_box.size[1]/3.6, self.center_y - head_image_box.size[1]/3.6]
                        source: 'static/proj_img/c0c.jpg'
            Label:
                id: slide_name_label
                text: 'C0C'
                color: (0,0,0,1)
                size_hint_y: .15
        BoxLayout:
            orientation: 'horizontal'
            ImageButton:
                source:"static/proj_img/review.png"
            Label:
                color: (0,0,0,1)
                markup: True
                text: '[ref=first ref]登录[/ref]'
                font_name: "static/fonts/DroidSansFallback.ttf"
                on_ref_press: root.login_view()
        BoxLayout:
            orientation: 'horizontal'
            ImageButton:
                source:"static/proj_img/review.png"
            Label:
                color: (0,0,0,1)
                markup: True
                text: '[ref=first ref]任务管理[/ref]'
                font_name: "static/fonts/DroidSansFallback.ttf"
                on_ref_press: root.login_view()
    BoxLayout:
        id: index_page
        orientation: "vertical"  # 在这里设置 orientation
        canvas.before:
            Color:
                rgba: (1,1,1,1)
            Rectangle:
                size: self.size
                pos: self.pos
                source: 'static/proj_img/background.jpg'
        CarouselWidget:   # 先添加轮播图
            id: carouse_pic
            size_hint: 1, .4
            padding: 10, 15, 10, 5
            spacing: 10
            pos_hint: {"center_x": 0.5, "top":0}  # 使用 'top' 确保它在顶部
        CameraModule:
            id: camera_self
            size_hint: 1, .3
            padding: 10, 15, 10, 5
            spacing: 10
        BoxLayout:
            id: bottom_w
            orientation: "horizontal"  # 在这里设置 orientation
            size_hint: 1, .5
            padding: 5, 5, 10, 5
            spacing: 10
            TableData:
                id: table_data
                size_hint: .6, 1  # 可以根据需要调整大小
                padding: 10, self.height//len(self.data_items), 10, 5  # 设置与其他小部件一致的内边距
                spacing: 10  # 设置间距
                canvas.before:
                    RoundedRectangle:
                        size: self.size
                        pos: self.x+5, self.y
                        source: 'static/proj_img/background_table.jpg'
                        radius: [20,]
                RecycleView:
                    viewclass: 'LabelChina'
                    data: [{'text': str(i)} for i in table_data.data_items]
                    RecycleGridLayout:
                        cols: 2
                        default_size: None, dp(40)
                        default_size_hint: 1, None
                        size_hint_y: None
                        height: self.minimum_height
                        padding: 5, 1, 5, 1
            AddPic:
                id: add_pic
                size_hint: .4, 1  # 可以根据需要调整大小
                padding: 60, table_data.height//len(table_data.data_items), 60, 20  # 设置与其他小部件一致的内边距
                canvas.before:
                    Color:  # 设置边框颜色
                        rgba: [1, 1, 1, 1]  # 这个颜色的 Alpha 值是 0.5，表示 50% 的透明度
                    RoundedRectangle:
                        size: self.size
                        pos: self.pos
                        source: 'static/proj_img/background_table.jpg'
                        radius: [20,]
                ImageWeiXin:
                    root_obj: root
                    source: 'static/proj_img/add_pic.jpg'
                    fit_mode: "fill"
                    top: 3
                LabelChina:
                    text: "[b]扫码关注公众号[/b]"
                    font_size: 40
                    size_hint_y: None  # 允许 Y 轴自适应
                    height: self.texture_size[1]+15  # 根据文本大小设置高度
                    markup: True  # 启用富文本标记

                LabelChina:
                    text: "四分类维修电话：15801736647"
                    size_hint_y: None
                    height: self.texture_size[1] + 10
                    halign: 'center'  # 水平居中对齐
                    valign: 'middle'  # 垂直居中对齐
                    text_size: self.width, None

                LabelChina:
                    text: "可回收客服专线：17511684584"
                    size_hint_y: None
                    height: self.texture_size[1] + 20
                    text_size: self.width, None
#                LabelChina: